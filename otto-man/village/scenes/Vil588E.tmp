[gd_scene load_steps=49 format=3 uid="uid://4yhee4tssqsb"]

[ext_resource type="Script" path="res://village/scripts/VillageScene.gd" id="1_q7bpx"]
[ext_resource type="PackedScene" uid="uid://dfo7asubvab08" path="res://village/scenes/CampFire.tscn" id="1_u4slp"]
[ext_resource type="PackedScene" uid="uid://cwc4rjb3xwqx" path="res://village/scenes/WorkerAssignmentUI.tscn" id="2_exr1e"]
[ext_resource type="PackedScene" uid="uid://dc45tnfhvti72" path="res://village/scenes/CariyeManagementUI.tscn" id="4_fbyh8"]
[ext_resource type="PackedScene" uid="uid://dptamh04yqugv" path="res://village/scenes/VillageStatusUI.tscn" id="5_3scu2"]
[ext_resource type="PackedScene" uid="uid://bepujd34sp2i1" path="res://player/player.tscn" id="6_nhirr"]
[ext_resource type="PackedScene" uid="uid://ip73ci5ccf8t" path="res://village/scenes/TimeDisplayUI.tscn" id="7_miuw4"]
[ext_resource type="Texture2D" uid="uid://c0tlebkwmqbqu" path="res://village/assets/ChatGPT Image 12 Nis 2025 00_22_18.png" id="8_8if1x"]
[ext_resource type="Texture2D" uid="uid://d1g551y8ufkjn" path="res://village/assets/ChatGPT Image 12 Nis 2025 00_27_55.png" id="9_hgedo"]
[ext_resource type="Texture2D" uid="uid://c4dwqep5smpnx" path="res://village/assets/sun,moon/sun.png" id="10_2gs62"]
[ext_resource type="Script" path="res://village/scripts/DayNightController.gd" id="10_m5lc0"]
[ext_resource type="Texture2D" uid="uid://cu6stnnma6v6m" path="res://village/assets/sun,moon/moon.png" id="11_1l1b1"]
[ext_resource type="PackedScene" uid="uid://jd3pyam6x1c" path="res://objects/dungeon/lighting/mesale2.tscn" id="11_e0f34"]
[ext_resource type="Texture2D" uid="uid://brmq1mwptdawf" path="res://village/assets/sun,moon/moon2.png" id="13_gs7c4"]
[ext_resource type="Shader" path="res://village/scenes/water_reflection.gdshader" id="13_puagf"]
[ext_resource type="Texture2D" uid="uid://ioloqtroc0x0" path="res://assets/Sprite-0001.png" id="14_0rx2s"]
[ext_resource type="Texture2D" uid="uid://db7hfngbp4tx2" path="res://village/assets/sun,moon/moon3.png" id="14_0x2wl"]
[ext_resource type="Script" path="res://village/scripts/CloudManager.gd" id="14_780dw"]
[ext_resource type="PackedScene" uid="uid://dsddcqby8ie1o" path="res://village/scenes/cloud.tscn" id="15_1pyaj"]
[ext_resource type="Texture2D" uid="uid://drfvi3vwynt5p" path="res://village/assets/sun,moon/moon4.png" id="15_080ea"]
[ext_resource type="Texture2D" uid="uid://6iqi6f8skqob" path="res://village/assets/clouds/cloud1.png" id="16_88r1r"]
[ext_resource type="Texture2D" uid="uid://drwgm31fkfly1" path="res://village/assets/sun,moon/moon5.png" id="16_snc6m"]
[ext_resource type="Texture2D" uid="uid://bmnmdtwihbgyo" path="res://village/assets/sun,moon/moon6.png" id="17_0c6vd"]
[ext_resource type="Texture2D" uid="uid://ovv2scpaar6d" path="res://village/assets/clouds/cloud2.png" id="17_wo2s6"]
[ext_resource type="Texture2D" uid="uid://byyjn8h44nc2b" path="res://village/assets/sun,moon/moon7.png" id="18_2p3e8"]
[ext_resource type="Texture2D" uid="uid://dlrgkd4ah0k1l" path="res://village/assets/clouds/cloud3.png" id="18_gsrlf"]
[ext_resource type="Script" path="res://village/scripts/StarsContainer.gd" id="19_n5th4"]
[ext_resource type="Texture2D" uid="uid://eoh0admg8sh1" path="res://village/assets/clouds/cloud4.png" id="19_vllej"]
[ext_resource type="Texture2D" uid="uid://cjmappkj3l4tr" path="res://village/assets/clouds/cloud5.png" id="20_1hiw4"]
[ext_resource type="Texture2D" uid="uid://omgoovyhyx5k" path="res://village/assets/clouds/cloud6.png" id="21_m600d"]
[ext_resource type="Texture2D" uid="uid://dc08mlef3owti" path="res://village/assets/clouds/cloud7.png" id="22_t2fs4"]
[ext_resource type="Texture2D" uid="uid://cajio6whwv6uy" path="res://village/assets/clouds/cloud8.png" id="23_8o2q3"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_pfood"]

[sub_resource type="CircleShape2D" id="CircleShape2D_ftls5"]
radius = 50.0

[sub_resource type="Gradient" id="Gradient_xvddr"]
colors = PackedColorArray(0, 0, 0, 1, 0, 1, 1, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_uvxvs"]
gradient = SubResource("Gradient_xvddr")
fill_from = Vector2(0.53211, 1)
fill_to = Vector2(0.509174, 0)

[sub_resource type="Gradient" id="Gradient_vpdyl"]
interpolation_mode = 2
colors = PackedColorArray(0.556863, 1, 1, 1, 0, 0.874031, 0.884127, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_c74ra"]
gradient = SubResource("Gradient_vpdyl")
fill_from = Vector2(0.509174, 0.00458716)
fill_to = Vector2(0.509174, 1)

[sub_resource type="Curve2D" id="Curve2D_i4un3"]
bake_interval = 0.01
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -1293.52, 22.08, 0, 0, 0, 0, -1223.6, -195.04, 0, 0, 0, 0, -951.28, -524.4, 0, 0, 0, 0, -493.12, -726.8, 0, 0, 0, 0, -7.35999, -809.6, 0, 0, 0, 0, 482.08, -736, 0, 0, 0, 0, 877.68, -513.36, 0, 0, 0, 0, 1142.64, -187.68, 0, 0, 0, 0, 1236.48, 18.4)
}
point_count = 9

[sub_resource type="Gradient" id="Gradient_geq07"]
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_nhrlr"]
gradient = SubResource("Gradient_geq07")
use_hdr = true
fill = 1
fill_from = Vector2(0.5, 0.477064)
fill_to = Vector2(0.151376, 0.201835)

[sub_resource type="Gradient" id="Gradient_t71la"]
offsets = PackedFloat32Array(0, 0.577922)
colors = PackedColorArray(1, 1, 1, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_3unvc"]
gradient = SubResource("Gradient_t71la")
fill = 1
fill_from = Vector2(0.509174, 0.522936)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_6j6n8"]
shader = ExtResource("13_puagf")
shader_parameter/water_color = Color(0.286692, 0.501014, 1, 1)

[sub_resource type="Gradient" id="Gradient_1g4th"]

[sub_resource type="FastNoiseLite" id="FastNoiseLite_g76y5"]
noise_type = 3
frequency = 0.02

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_633bs"]
seamless = true
seamless_blend_skirt = 0.5
as_normal_map = true
bump_strength = 20.0
color_ramp = SubResource("Gradient_1g4th")
noise = SubResource("FastNoiseLite_g76y5")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_86mrj"]
shader = ExtResource("13_puagf")
shader_parameter/water_color = Color(0, 0.133333, 0.305882, 1)
shader_parameter/wave_noise = SubResource("NoiseTexture2D_633bs")

[node name="VillageScene" type="Node2D"]
script = ExtResource("1_q7bpx")

[node name="ground" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="ground"]
shape = SubResource("WorldBoundaryShape2D_pfood")

[node name="CampFire" parent="." groups=["Housing"] instance=ExtResource("1_u4slp")]
position = Vector2(0, -6)

[node name="InteractionArea" type="Area2D" parent="CampFire" groups=["interactables"]]
collision_mask = 3

[node name="CollisionShape2D" type="CollisionShape2D" parent="CampFire/InteractionArea"]
shape = SubResource("CircleShape2D_ftls5")

[node name="InteractionMenu" type="PopupMenu" parent="CampFire"]

[node name="PlacedBuildings" type="Node2D" parent="."]

[node name="PlotMarkers" type="Node2D" parent="."]

[node name="BuildPlot1" type="Marker2D" parent="PlotMarkers"]
position = Vector2(400, 0)

[node name="BuildPlot2" type="Marker2D" parent="PlotMarkers"]
position = Vector2(-400, 0)

[node name="BuildPlot3" type="Marker2D" parent="PlotMarkers"]
position = Vector2(800, 0)

[node name="BuildPlot4" type="Marker2D" parent="PlotMarkers"]
position = Vector2(-800, 0)

[node name="BuildPlot5" type="Marker2D" parent="PlotMarkers"]
position = Vector2(1200, 0)

[node name="BuildPlot6" type="Marker2D" parent="PlotMarkers"]
position = Vector2(-1200, 0)

[node name="WorkerAssignmentUI" parent="." instance=ExtResource("2_exr1e")]
layer = 10
visible = false

[node name="CariyeManagementUI" parent="." instance=ExtResource("4_fbyh8")]
layer = 10
visible = false

[node name="OpenWorkerUIButton" type="Button" parent="."]
z_index = 10
offset_left = -42.0
offset_top = 456.0
offset_right = 44.0
offset_bottom = 487.0
text = "Camp Fire"

[node name="AddVillagerButton" type="Button" parent="."]
z_index = 10
offset_left = -51.0
offset_top = 453.0
offset_right = 51.0
offset_bottom = 484.0
text = "Köylü lütfen"

[node name="OpenCariyeUIButton" type="Button" parent="."]
z_index = 10
offset_left = -28.0
offset_top = 490.0
offset_right = 29.0
offset_bottom = 521.0
text = "Cariye"

[node name="OpenBuildUIButton" type="Button" parent="."]
z_index = 10
offset_left = -28.0
offset_top = 524.0
offset_right = 29.0
offset_bottom = 555.0
text = "İnşaa"

[node name="VillageStatusUI" parent="." instance=ExtResource("5_3scu2")]
layer = 10

[node name="Camera2D" type="Camera2D" parent="."]
visible = false
texture_filter = 1
enabled = false

[node name="Player" parent="." instance=ExtResource("6_nhirr")]
position = Vector2(2, -70)

[node name="WorkersContainer" type="Node2D" parent="."]
y_sort_enabled = true

[node name="TimeDisplayUi" parent="." instance=ExtResource("7_miuw4")]
layer = 10

[node name="DayNightController" type="CanvasModulate" parent="."]
script = ExtResource("10_m5lc0")
night_color = Color(0.337406, 0.445476, 0.853101, 1)
bg_dawn_color = Color(0.966041, 0.807165, 0.708426, 1)
bg_morning_color = Color(0.938541, 0.787111, 0.639753, 1)
bg_day_color = Color(0.774224, 0.953272, 1, 1)
bg_dusk_color = Color(0.95377, 0.74717, 0.617033, 1)
sky_gradient_resource = SubResource("GradientTexture2D_uvxvs")
transition_speed = 0.3
sun_follower_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/SunFollower")
moon_follower_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/MoonFollower")
sun_sprite_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/SunFollower/SunSprite")
moon_sprite_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/MoonFollower/MoonSprite")
sun_light_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/SunFollower/PointLight2D")
moon_light_path = NodePath("../ParallaxBackground/CelestialLayer/SunMoonPath/MoonFollower/PointLight2D")
moon_phase_textures = Array[Texture2D]([ExtResource("11_1l1b1"), ExtResource("13_gs7c4"), ExtResource("14_0x2wl"), ExtResource("15_080ea"), ExtResource("16_snc6m"), ExtResource("17_0c6vd"), ExtResource("18_2p3e8")])
sun_sunset_hour = 19.5
moon_set_hour = 6.0
celestial_fade_duration = 0.3

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -1

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -1
y_sort_enabled = true
position = Vector2(670, 242)

[node name="ChatGptImage12Nis2025002218" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
z_index = -1
y_sort_enabled = true
position = Vector2(-670, -869)
scale = Vector2(1, 0.800781)
texture = ExtResource("8_8if1x")
centered = false

[node name="ChatGptImage12Nis2025002755" type="Sprite2D" parent="ParallaxBackground/ParallaxLayer"]
z_index = -1
y_sort_enabled = true
position = Vector2(-2205, -785)
scale = Vector2(1, 0.6875)
texture = ExtResource("9_hgedo")
centered = false

[node name="ParallaxLayerNear" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -5
position = Vector2(0, -1)
motion_scale = Vector2(0.18, 0.1)

[node name="ParallaxLayerMid" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -6
position = Vector2(0, -1)
motion_scale = Vector2(0.14, 0.1)

[node name="ParallaxLayerFar" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -7
position = Vector2(0, -1)
motion_scale = Vector2(0.1, 0.1)

[node name="BackgroundTint" type="CanvasModulate" parent="ParallaxBackground"]
z_index = -1

[node name="sky" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -9
y_sort_enabled = true

[node name="Sky" type="Sprite2D" parent="ParallaxBackground/sky"]
y_sort_enabled = true
position = Vector2(-1, -748.501)
scale = Vector2(124.844, 26.5781)
texture = SubResource("GradientTexture2D_c74ra")

[node name="CelestialLayer" type="ParallaxLayer" parent="ParallaxBackground"]
z_index = -8
y_sort_enabled = true
position = Vector2(10, 642)
motion_scale = Vector2(0.001, 0.001)

[node name="SunMoonPath" type="Path2D" parent="ParallaxBackground/CelestialLayer"]
y_sort_enabled = true
position = Vector2(599, -98)
scale = Vector2(0.543478, 0.543478)
curve = SubResource("Curve2D_i4un3")

[node name="SunFollower" type="PathFollow2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath"]
y_sort_enabled = true
position = Vector2(-1293.52, 22.08)
rotation = -1.25925

[node name="SunSprite" type="Sprite2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath/SunFollower"]
y_sort_enabled = true
texture = ExtResource("10_2gs62")

[node name="PointLight2D" type="PointLight2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath/SunFollower"]
visible = false
y_sort_enabled = true
color = Color(0.956863, 0.956863, 0.482353, 1)
energy = 14.1
texture = SubResource("GradientTexture2D_nhrlr")
texture_scale = 10.05

[node name="MoonFollower" type="PathFollow2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath"]
y_sort_enabled = true
position = Vector2(-1293.52, 22.08)
rotation = -1.25925

[node name="MoonSprite" type="Sprite2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath/MoonFollower"]
y_sort_enabled = true
texture = ExtResource("11_1l1b1")

[node name="PointLight2D" type="PointLight2D" parent="ParallaxBackground/CelestialLayer/SunMoonPath/MoonFollower"]
visible = false
y_sort_enabled = true
energy = 1.3
range_z_max = 0
texture = SubResource("GradientTexture2D_3unvc")
texture_scale = 5.76

[node name="StarsContainer" type="Node2D" parent="ParallaxBackground/CelestialLayer"]
script = ExtResource("19_n5th4")

[node name="Mesale" parent="." instance=ExtResource("11_e0f34")]
material = SubResource("ShaderMaterial_6j6n8")
position = Vector2(-1, -8)

[node name="Water" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_86mrj")
position = Vector2(2, 258.25)
scale = Vector2(50, 2.27188)
texture = ExtResource("14_0rx2s")

[node name="CloudManager" type="Node2D" parent="."]
z_index = -3
script = ExtResource("14_780dw")
cloud_scene = ExtResource("15_1pyaj")
cloud_textures = Array[Texture2D]([ExtResource("16_88r1r"), ExtResource("17_wo2s6"), ExtResource("18_gsrlf"), ExtResource("19_vllej"), ExtResource("20_1hiw4"), ExtResource("21_m600d"), ExtResource("22_t2fs4"), ExtResource("23_8o2q3")])
parallax_layer_paths = Array[NodePath]([NodePath("../ParallaxBackground/ParallaxLayerFar"), NodePath("../ParallaxBackground/ParallaxLayerMid"), NodePath("../ParallaxBackground/ParallaxLayerNear")])
min_spawn_interval = -10.0
max_spawn_interval = 20.0
cloud_y_position_min = -50.0
cloud_y_position_max = 50.0
